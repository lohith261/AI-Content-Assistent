<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Content Assistant</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <!-- Lucide Icons for a modern look -->
    <script src="https://unpkg.com/lucide@latest"></script>
    <link rel="stylesheet" href="style.css">
</head>
<body class="font-inter bg-gray-100 flex flex-col items-center justify-start min-h-screen p-4">
    <div class="bg-white rounded-xl shadow-lg p-8 w-full max-w-2xl border border-gray-200">
        <h1 class="text-4xl font-extrabold text-gray-800 mb-6 text-center">
            AI Content Assistant
        </h1>
        <p class="text-gray-600 mb-8 text-center">
            Summarize content, extract action items, and get next steps using Gemini AI.
        </p>

        <!-- Gemini Parameter Controls -->
        <div class="grid grid-cols-1 sm:grid-cols-2 gap-4 mb-6">
            <div>
                <label for="temperatureInput" class="block text-gray-700 text-sm font-semibold mb-2">
                    Temperature (Creativity): <span id="temperatureValue" class="font-normal text-gray-500">0.7</span>
                </label>
                <input type="range" id="temperatureInput" min="0" max="1" step="0.1" value="0.7"
                       class="w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer range-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
            </div>
            <div>
                <label for="maxTokensInput" class="block text-gray-700 text-sm font-semibold mb-2">
                    Max Output Tokens: <span id="maxTokensValue" class="font-normal text-gray-500">2048</span>
                </label>
                <input type="range" id="maxTokensInput" min="50" max="4096" step="50" value="2048"
                       class="w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer range-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
            </div>
        </div>

        <div class="mb-6">
            <label for="contentInput" class="block text-gray-700 text-sm font-semibold mb-2">
                Enter Text or URL:
            </label>
            <textarea id="contentInput"
                      class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition duration-200 ease-in-out text-gray-800"
                      rows="8"
                      placeholder="Paste your article, email, meeting notes, or a website URL here..."></textarea>
        </div>

        <!-- New: Image Upload Section -->
        <div class="mb-6 border-t border-gray-200 pt-6">
            <label for="imageUpload" class="block text-gray-700 text-sm font-semibold mb-2">
                Or Upload an Image (Optional):
            </label>
            <input type="file" id="imageUpload" accept="image/*" class="w-full text-gray-700 text-sm
                file:mr-4 file:py-2 file:px-4
                file:rounded-full file:border-0
                file:text-sm file:font-semibold
                file:bg-blue-50 file:text-blue-700
                hover:file:bg-blue-100 transition duration-200 ease-in-out cursor-pointer"
                aria-label="Upload image for analysis">
            <div id="imagePreview" class="mt-4 hidden max-w-full h-auto rounded-lg shadow-md overflow-hidden">
                <img src="#" alt="Image Preview" class="w-full h-auto object-cover">
                <button id="clearImageBtn" class="block w-full bg-red-500 text-white text-sm py-1 mt-2 rounded-lg hover:bg-red-600 transition duration-200">
                    Clear Image
                </button>
            </div>
        </div>
        <!-- End New: Image Upload Section -->

        <div class="flex flex-col sm:flex-row gap-4 mb-4">
            <button id="processBtn"
                    class="flex-1 bg-blue-600 text-white font-bold py-3 px-4 rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-75 transition duration-200 ease-in-out flex items-center justify-center">
                <span id="buttonText">Process Content</span>
                <svg id="loadingSpinner" class="animate-spin h-5 w-5 text-white ml-3 hidden" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                    <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                    <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
                </svg>
            </button>
            <button id="clearBtn"
                    class="flex-1 bg-gray-300 text-gray-800 font-bold py-3 px-4 rounded-lg hover:bg-gray-400 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-opacity-75 transition duration-200 ease-in-out flex items-center justify-center">
                <i data-lucide="x-circle" class="mr-2"></i> Clear Content
            </button>
        </div>

        <div class="mb-8 text-center">
            <p class="text-gray-700 text-sm mb-2">Try an example:</p>
            <div class="flex flex-wrap justify-center gap-2">
                <button class="example-btn text-sm bg-gray-200 text-gray-700 py-1 px-3 rounded-full hover:bg-gray-300 transition duration-150"
                        data-example-type="text"
                        data-example-content="The quarterly sales report showed a 15% increase in Q2, primarily driven by new product launches in the APAC region. However, marketing spend exceeded budget by 10%. A follow-up meeting is scheduled for next Tuesday to discuss budget reallocation and strategies for Q3. John needs to prepare a detailed breakdown of marketing expenses.">
                    Sales Report Summary
                </button>
                <button class="example-btn text-sm bg-gray-200 text-gray-700 py-1 px-3 rounded-full hover:bg-gray-300 transition duration-150"
                        data-example-type="text"
                        data-example-content="Team, just a reminder that the project proposal is due by end of day Friday. Please ensure all sections are complete. Sarah, please review the technical specifications. Mark, finalize the budget figures. I'll consolidate everything by 3 PM.">
                    Meeting Notes Actions
                </button>
                <button class="example-btn text-sm bg-gray-200 text-gray-700 py-1 px-3 rounded-full hover:bg-gray-300 transition duration-150"
                        data-example-type="url"
                        data-example-content="https://en.wikipedia.org/wiki/Artificial_intelligence">
                    Wikipedia AI Article
                </button>
            </div>
        </div>


        <div id="responseContainer" class="mt-8 p-6 bg-gray-50 border border-gray-200 rounded-lg hidden opacity-0 transition-opacity duration-500 ease-in">
            <h2 class="text-2xl font-bold text-gray-800 mb-4 flex items-center justify-between">
                <span class="flex items-center"><i data-lucide="file-text" class="mr-2 text-blue-600"></i> Summary</span>
                <button class="copy-btn text-gray-500 hover:text-blue-600 transition duration-150 relative" data-target="summaryOutput">
                    <i data-lucide="copy" class="w-5 h-5"></i>
                    <span class="copy-feedback absolute top-0 right-0 -mt-2 -mr-2 bg-green-500 text-white text-xs px-1 py-0.5 rounded-full hidden">Copied!</span>
                </button>
            </h2>
            <div id="summaryOutput" class="text-gray-700 leading-relaxed mb-6"></div>

            <h2 class="text-2xl font-bold text-gray-800 mb-4 flex items-center justify-between">
                <span class="flex items-center"><i data-lucide="check-circle" class="mr-2 text-green-600"></i> Action Items</span>
                <button class="copy-btn text-gray-500 hover:text-blue-600 transition duration-150 relative" data-target="actionItemsOutput">
                    <i data-lucide="copy" class="w-5 h-5"></i>
                    <span class="copy-feedback absolute top-0 right-0 -mt-2 -mr-2 bg-green-500 text-white text-xs px-1 py-0.5 rounded-full hidden">Copied!</span>
                </button>
            </h2>
            <ul id="actionItemsOutput" class="list-disc list-inside text-gray-700 mb-6"></ul>

            <h2 class="text-2xl font-bold text-gray-800 mb-4 flex items-center justify-between">
                <span class="flex items-center"><i data-lucide="lightbulb" class="mr-2 text-yellow-600"></i> Suggested Next Steps</span>
                <button class="copy-btn text-gray-500 hover:text-blue-600 transition duration-150 relative" data-target="nextStepsOutput">
                    <i data-lucide="copy" class="w-5 h-5"></i>
                    <span class="copy-feedback absolute top-0 right-0 -mt-2 -mr-2 bg-green-500 text-white text-xs px-1 py-0.5 rounded-full hidden">Copied!</span>
                </button>
            </h2>
            <ul id="nextStepsOutput" class="list-disc list-inside text-gray-700"></ul>
        </div>

        <div id="errorMessage" class="mt-4 text-red-600 text-center font-medium hidden"></div>
    </div>

    <script src="script.js"></script>
    <!-- Initialize Lucide icons -->
    <script>
        lucide.createIcons();
    </script>
</body>
</html>
